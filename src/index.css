@import 'tailwindcss';

@theme {
  /* Custom Colors */
  --color-background: oklch(6% 0.02 270);
  --color-glass: oklch(10% 0.02 270);
  --color-panel-bg: oklch(10% 0.02 270 / 0.5);
  --color-panel-border: oklch(100% 0 0 / 0.1);
  --color-border: oklch(100% 0 0 / 0.1);

  --color-text-primary: oklch(98% 0 0);
  --color-text-secondary: oklch(70% 0.01 270);
  --color-text-tertiary: oklch(55% 0.01 270);

  --color-accent: var(--theme-accent, oklch(75% 0.15 200));
  --color-accent-glow: var(--theme-accent-glow, oklch(75% 0.15 200));

  /* Font Families */
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', Menlo, Monaco, 'Courier New', monospace;

  /* Custom Animation */
  --animate-pulse-slow: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@layer base {
  :root {
    /* Theme accent colors - can be overridden by data-theme */
    --theme-accent: oklch(75% 0.15 200);
    --theme-accent-glow: oklch(75% 0.15 200);
  }

  [data-theme='green'] {
    --theme-accent: oklch(80% 0.25 140);
    --theme-accent-glow: oklch(80% 0.25 140);
  }

  [data-theme='magenta'] {
    --theme-accent: oklch(70% 0.25 320);
    --theme-accent-glow: oklch(70% 0.25 320);
  }
}

@utility glass-panel {
  background-color: oklch(10% 0.02 270 / 0.6);
  backdrop-filter: blur(24px);
  border: 1px solid oklch(100% 0 0 / 0.08);
  border-top: 1px solid oklch(100% 0 0 / 0.15);
  box-shadow: 0 25px 50px -12px oklch(0% 0 0 / 0.4);
}

@utility glass-input {
  background-color: oklch(10% 0.02 270 / 0.4);
  border: 1px solid oklch(100% 0 0 / 0.1);
}

@utility text-glow {
  text-shadow: 0 0 10px var(--theme-accent-glow);
}

@utility border-glow {
  box-shadow: 0 0 10px color-mix(in oklch, var(--theme-accent-glow) 20%, transparent);
}

@utility hover-glow {
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 300ms;
  &:hover {
      box-shadow: 0 0 15px color-mix(in oklch, var(--theme-accent-glow) 30%, transparent);
      border-color: var(--theme-accent);
  }
}

@layer base {
  body {
    background-color: var(--color-background);
    color: var(--color-text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow: hidden;
  }

  /* r3f-perf Performance Monitor Theming */
  .perf-monitor {
    --perf-bg-color: oklch(10% 0.02 270 / 0.9);
    --perf-text-color: oklch(98% 0 0);
    --perf-chart-bg-color: oklch(6% 0.02 270 / 0.8);
    font-family: var(--font-mono) !important;
    backdrop-filter: blur(16px);
    border: 1px solid oklch(100% 0 0 / 0.1) !important;
    border-radius: 8px !important;
    box-shadow: 0 10px 40px oklch(0% 0 0 / 0.5) !important;
    z-index: 5 !important;
  }

  .perf-monitor b {
    color: var(--theme-accent) !important;
  }

  .perf-monitor i {
    color: oklch(70% 0.01 270) !important;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: oklch(100% 0 0 / 0.1);
    border-radius: 9999px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: oklch(100% 0 0 / 0.2);
  }

  /* Prevent text selection during resize drag */
  .resize-dragging {
    cursor: col-resize !important;
    -webkit-user-select: none !important;
    user-select: none !important;
  }

  .resize-dragging * {
    cursor: col-resize !important;
  }
}
