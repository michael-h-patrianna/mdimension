@import 'tailwindcss';

@theme {
  /* Custom Colors - Deeper, richer darks for that $599.99 feel */
  --color-background: oklch(5% 0.01 260); /* Slightly cooler dark */
  --color-glass: oklch(10% 0.02 260);
  --color-panel-bg: oklch(8% 0.02 260 / 0.7); 
  --color-panel-border: oklch(100% 0 0 / 0.08);
  --color-border: oklch(100% 0 0 / 0.08);

  --color-text-primary: oklch(98% 0 0);
  --color-text-secondary: oklch(70% 0.01 260);
  --color-text-tertiary: oklch(50% 0.01 260);

  --color-accent: var(--theme-accent, oklch(70% 0.14 200)); /* Cyan-ish default */
  --color-accent-glow: var(--theme-accent-glow, oklch(70% 0.14 200));

  /* Font Families */
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', Menlo, Monaco, 'Courier New', monospace;

  /* Custom Animation */
  --animate-pulse-slow: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-spin-slow: spin 3s linear infinite;
  --animate-float: float 6s ease-in-out infinite;
  
  @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
  }
}

@layer base {
  :root {
    /* Theme accent colors - can be overridden by data-theme */
    --theme-accent: oklch(70% 0.14 200);
    --theme-accent-glow: oklch(70% 0.14 200);
  }

  [data-theme='green'] {
    --theme-accent: oklch(75% 0.18 145);
    --theme-accent-glow: oklch(75% 0.18 145);
  }

  [data-theme='magenta'] {
    --theme-accent: oklch(70% 0.22 330);
    --theme-accent-glow: oklch(70% 0.22 330);
  }

  [data-theme='orange'] {
    --theme-accent: oklch(75% 0.18 40);
    --theme-accent-glow: oklch(75% 0.18 40);
  }

  [data-theme='blue'] {
     --theme-accent: oklch(70% 0.14 260);
     --theme-accent-glow: oklch(70% 0.14 260);
  }

  [data-theme='rainbow'] {
    animation: rainbow 5s linear infinite;
    --theme-accent: oklch(70% 0.2 0); /* Start red */
    --theme-accent-glow: oklch(70% 0.2 0);
  }

  @keyframes rainbow {
    0% { --theme-accent: oklch(70% 0.2 0); --theme-accent-glow: oklch(70% 0.2 0); }
    20% { --theme-accent: oklch(70% 0.2 72); --theme-accent-glow: oklch(70% 0.2 72); }
    40% { --theme-accent: oklch(70% 0.2 144); --theme-accent-glow: oklch(70% 0.2 144); }
    60% { --theme-accent: oklch(70% 0.2 216); --theme-accent-glow: oklch(70% 0.2 216); }
    80% { --theme-accent: oklch(70% 0.2 288); --theme-accent-glow: oklch(70% 0.2 288); }
    100% { --theme-accent: oklch(70% 0.2 360); --theme-accent-glow: oklch(70% 0.2 360); }
  }

  body {
    background-color: var(--color-background);
    color: var(--color-text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow: hidden;
    letter-spacing: -0.01em; 
    font-feature-settings: "cv11", "ss01"; /* Clean numbers & alts */
  }
  
  ::selection {
    background-color: color-mix(in oklch, var(--theme-accent) 25%, transparent);
    color: white;
    text-shadow: 0 0 8px var(--theme-accent-glow);
  }

  /* Custom Scrollbar - Minimal & Overlay */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-corner {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: oklch(100% 0 0 / 0.15);
    border-radius: 9999px;
    border: 1px solid transparent; 
    background-clip: content-box;
    transition: background-color 0.2s ease;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: oklch(100% 0 0 / 0.3);
  }

  /* Prevent text selection during resize drag */
  .resize-dragging {
    cursor: col-resize !important;
    -webkit-user-select: none !important;
    user-select: none !important;
  }

  .resize-dragging * {
    cursor: col-resize !important;
  }

  /* Global Input Styling */
  input[type="text"],
  input[type="number"],
  input[type="password"],
  input[type="search"],
  input[type="email"],
  textarea,
  select {
    @apply glass-input rounded-md px-3 py-2 text-sm w-full;
  }
  
  /* Remove default number arrows for cleaner look */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
}

/* 
   PREMIUM GLASSMORPHISM SYSTEM 
*/

@utility glass-panel {
  background-color: oklch(8% 0.02 260 / 0.75);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid oklch(100% 0 0 / 0.08);
  box-shadow: 
    0 4px 6px -1px oklch(0% 0 0 / 0.1),
    0 2px 4px -1px oklch(0% 0 0 / 0.06),
    inset 0 1px 0 0 oklch(100% 0 0 / 0.05); /* Top highlight */
  transition: border-color 0.2s ease;
}

@utility glass-panel-dark {
  background-color: oklch(5% 0.01 260 / 0.9);
  backdrop-filter: blur(24px);
  border: 1px solid oklch(100% 0 0 / 0.05);
  box-shadow: inset 0 0 20px oklch(0% 0 0 / 0.2);
}

@utility glass-separator {
  height: 1px;
  background: linear-gradient(
    90deg, 
    transparent 0%, 
    oklch(100% 0 0 / 0.15) 20%, 
    oklch(100% 0 0 / 0.15) 80%, 
    transparent 100%
  );
  border: none;
}

@utility glass-input {
  background-color: oklch(0% 0 0 / 0.2);
  border: 1px solid oklch(100% 0 0 / 0.08);
  box-shadow: inset 0 1px 2px oklch(0% 0 0 / 0.1);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  color: var(--color-text-primary);
  
  &:hover {
    border-color: oklch(100% 0 0 / 0.15);
    background-color: oklch(0% 0 0 / 0.25);
  }

  &:focus {
    outline: none;
    border-color: var(--theme-accent);
    background-color: oklch(0% 0 0 / 0.3);
    box-shadow: 
      inset 0 1px 2px oklch(0% 0 0 / 0.1),
      0 0 0 1px var(--theme-accent),
      0 0 12px color-mix(in oklch, var(--theme-accent-glow) 10%, transparent);
  }
  
  &::placeholder {
    color: oklch(100% 0 0 / 0.2);
  }
}

@utility glass-button {
  background: linear-gradient(to bottom, oklch(100% 0 0 / 0.06), oklch(100% 0 0 / 0.02));
  border: 1px solid oklch(100% 0 0 / 0.1);
  box-shadow: 
    0 1px 2px oklch(0% 0 0 / 0.1),
    inset 0 1px 0 0 oklch(100% 0 0 / 0.05); /* Inner top light */
  backdrop-filter: blur(8px);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  
  &:hover {
    background: linear-gradient(to bottom, oklch(100% 0 0 / 0.1), oklch(100% 0 0 / 0.05));
    border-color: oklch(100% 0 0 / 0.2);
    box-shadow: 
        0 4px 12px -2px oklch(0% 0 0 / 0.2),
        inset 0 1px 0 0 oklch(100% 0 0 / 0.1);
    transform: translateY(-0.5px);
  }
  
  &:active {
    background: oklch(0% 0 0 / 0.1);
    transform: translateY(0.5px);
    box-shadow: inset 0 2px 4px oklch(0% 0 0 / 0.1);
    border-color: oklch(100% 0 0 / 0.08);
  }
}

@utility glass-button-primary {
  background: linear-gradient(135deg, color-mix(in oklch, var(--theme-accent) 20%, transparent), color-mix(in oklch, var(--theme-accent) 5%, transparent));
  border: 1px solid color-mix(in oklch, var(--theme-accent) 30%, transparent);
  box-shadow: 0 2px 10px color-mix(in oklch, var(--theme-accent-glow) 15%, transparent);

  &:hover {
    background: linear-gradient(135deg, color-mix(in oklch, var(--theme-accent) 30%, transparent), color-mix(in oklch, var(--theme-accent) 10%, transparent));
    border-color: color-mix(in oklch, var(--theme-accent) 50%, transparent);
    box-shadow: 0 0 15px color-mix(in oklch, var(--theme-accent-glow) 25%, transparent);
  }
}

@utility text-glow {
  text-shadow: 0 0 12px var(--theme-accent-glow);
}

@utility text-glow-subtle {
  text-shadow: 0 0 8px color-mix(in oklch, var(--theme-accent-glow) 40%, transparent);
}

@utility border-glow {
  box-shadow: 0 0 8px color-mix(in oklch, var(--theme-accent-glow) 15%, transparent);
}